<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Filter</title>
    <style>
        .book-list {
            list-style-type: none;
            padding: 0;
        }

        .book-item {
            padding: 5px;
        }
    </style>
</head>

<body>
    <h1>Book Filter by Author</h1>
    <input type="text" id="authorSearch" placeholder="Enter author's name">
    <button onclick="filterBooks()">Search</button>

    <ul id="bookList" class="book-list"></ul>


</body>
<script src="script.js">
    // Sample array of books
    const books = [
        { title: "The Great Gatsby", author: "F. Scott Fitzgerald" },
        { title: "To Kill a Mockingbird", author: "Harper Lee" },
        { title: "1984", author: "George Orwell" },
        { title: "Moby Dick", author: "Herman Melville" },
        { title: "The Catcher in the Rye", author: "J.D. Salinger" },
    ];

    // Function to filter books by author
    function filterBooks() {
        const authorName = document.getElementById("authorSearch").value.trim();

        // Promise to simulate asynchronous operation
        const filteredBooksPromise = new Promise((resolve, reject) => {
            if (authorName) {
                const filteredBooks = books.filter(book => book.author.toLowerCase().includes(authorName.toLowerCase()));
                setTimeout(() => {
                    resolve(filteredBooks); // Simulate delay before resolving the promise
                }, 1000); // 1-second delay
            } else {
                reject("Please enter an author name.");
            }
        });

        // Handle promise resolution and display filtered books 
        filteredBooksPromise
            .then(filteredBooks => {
                displayBooks(filteredBooks);
            })
            .catch(error => {
                alert(error); // Display error if the promise is rejected
            });
    }

    // Function to display books on the page
    function displayBooks(filteredBooks) {
        const bookListElement = document.getElementById("bookList");
        bookListElement.innerHTML = ""; // Clear previous list

        if (filteredBooks.length === 0) {
            bookListElement.innerHTML = "<li>No books found by this author.</li>";
        } else {
            filteredBooks.forEach(book => {
                const listItem = document.createElement("li");
                listItem.classList.add("book-item");
                listItem.textContent = `${book.title} by ${book.author}`;
                bookListElement.appendChild(listItem);
            });
        }
    }

</script>

</html>